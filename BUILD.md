# Notes on Build

## Environment

* R
* RStudio
* R Packages
  * devtools
  * roxygen2
  * testthat
  * (vignette)

----

## Package structure

* DESCRIPTION
* NAMESPACE
  * automatically generated by 'devtools'
* LICENSE
* R/*.R
  * source code
* man/*.Rd
  * automatically generated by 'devtools'
* test/
  * test code
* (vignette)


----

## Build

```r
devtools::document()    # Generate documents ('NAMESPACE' and 'man/*.md') from comments in 'R/*.R' with Roxygen
devtools::check()       # Tests run in this process
devtools::build()
```

devtools::build() generates a tar.gz file, which includes all the files required for the package. You can install the package with the file with the command below.

```r
install.packages("package_0.X.X.tar.gz", repos = NULL, type = "source")
```


## Test

```r
# Initialization
usethis::use_testthat()

# Add a new test file
usethis::use_test("filename")
```

## Vignette

Vignette has not been used in the build process, yet. 

```r
# Initialization
usethis::use_vignette("my-vignette")
```

```r
devtools::build_vignettes()
devtools::clean_vignettes()
```


